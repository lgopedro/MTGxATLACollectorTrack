<!DOCTYPE html>
<html lang="es"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTG x Avatar: The Last Airbender - Collection Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://magic.wizards.com/assets/favicon.ico">
</head>
<body>
    <!-- SVG Definitions for gradients -->
    <svg class="svg-defs" aria-hidden="true">
        <defs>
            <linearGradient id="goldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#f7e7a3"/>
                <stop offset="50%" style="stop-color:#d4a843"/>
                <stop offset="100%" style="stop-color:#8b6914"/>
            </linearGradient>
            <linearGradient id="fireGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#ea3601"/>
                <stop offset="100%" style="stop-color:#d84b34"/>
            </linearGradient>
        </defs>
    </svg>

    <!-- Hero Section with Background -->
    <div class="hero-background">
        <div class="hero-overlay"></div>

        <header>
            <!-- Logos Section -->
            <div class="logos-container">
                <img src="https://images.ctfassets.net/s5n2t79q9icq/3dB5uyWzUH95O1ZPBNNUX5/6cff7c65a809285755ea24b164b6ac65/magic-logo.png"
                     alt="Magic: The Gathering Logo"
                     class="mtg-logo">
                <span class="logo-separator">×</span>
                <img src="https://upload.wikimedia.org/wikipedia/commons/1/1d/Logo_de_Avatar_la_leyenda_de_Aang.png"
                     alt="Avatar: The Last Airbender Logo"
                     class="avatar-logo">
            </div>

            <h1>Collection Tracker</h1>
            <p class="subtitle">Master the Elements. Complete Your Collection.</p>
        </header>
    </div>

    <main>
        <!-- Stats Summary Section - All in one line -->
        <section id="summary" class="stats-summary">
            <!-- Main Percentage -->
            <div class="main-stat">
                <div class="percentage-display">
                    <span class="percentage-number" id="total-percentage">0</span>
                    <span class="percentage-symbol">%</span>
                </div>
                <div class="total-count">
                    <span id="owned-count">0</span> / <span id="total-count">0</span> cartas
                </div>
            </div>

            <!-- Rarity Stats Row -->
            <div class="rarity-stats-row">
                <div class="rarity-stat common">
                    <span class="rarity-label">C</span>
                    <span class="rarity-value"><span id="common-owned">0</span>/<span id="common-total">0</span></span>
                </div>
                <div class="rarity-stat uncommon">
                    <span class="rarity-label">U</span>
                    <span class="rarity-value"><span id="uncommon-owned">0</span>/<span id="uncommon-total">0</span></span>
                </div>
                <div class="rarity-stat rare">
                    <span class="rarity-label">R</span>
                    <span class="rarity-value"><span id="rare-owned">0</span>/<span id="rare-total">0</span></span>
                </div>
                <div class="rarity-stat mythic">
                    <span class="rarity-label">M</span>
                    <span class="rarity-value"><span id="mythic-owned">0</span>/<span id="mythic-total">0</span></span>
                </div>
            </div>
        </section>

        <!-- Filter Section -->
        <section id="filters" class="filter-section">
            <div class="filter-controls">
                <select id="filter-rarity">
                    <option value="all">Todas las rarezas</option>
                    <option value="Common">Comunes</option>
                    <option value="Uncommon">Poco Comunes</option>
                    <option value="Rare">Raras</option>
                    <option value="Mythic">Míticas</option>
                </select>
                <select id="filter-owned">
                    <option value="all">Todas</option>
                    <option value="owned">Obtenidas</option>
                    <option value="missing">Faltantes</option>
                </select>
                <select id="filter-color">
                    <option value="all">Todos los colores</option>
                    <option value="W">Blanco</option>
                    <option value="U">Azul</option>
                    <option value="B">Negro</option>
                    <option value="R">Rojo</option>
                    <option value="G">Verde</option>
                    <option value="Multicolor">Multicolor</option>
                    <option value="Colorless">Incoloro</option>
                </select>
                <input type="text" id="search-input" placeholder="Buscar por nombre...">
            </div>
        </section>

        <!-- Binder Section -->
        <section id="binder" class="binder-section">
            <div id="binder-grid" class="binder-grid">
                <!-- Cards will be dynamically inserted here -->
            </div>
        </section>

        <!-- Loading State -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Cargando colección...</p>
        </div>

        <!-- Error State -->
        <div id="error" class="error hidden">
            <p>Error al cargar los datos. Asegúrate de que el Google Sheet esté publicado.</p>
            <button onclick="loadData()">Reintentar</button>
        </div>
    </main>

    <!-- Card Detail Modal -->
    <div id="card-modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="modal-body">
                <img id="modal-image" src="" alt="">
                <div class="modal-info">
                    <h2 id="modal-name"></h2>
                    <p id="modal-type"></p>
                    <div class="modal-details">
                        <span id="modal-rarity" class="rarity-badge"></span>
                        <span id="modal-color" class="color-badge"></span>
                        <span id="modal-mana"></span>
                    </div>
                    <div class="modal-prices">
                        <p>Precio USD: <span id="modal-price"></span></p>
                        <p>Precio Foil: <span id="modal-price-foil"></span></p>
                    </div>
                    <div class="modal-status">
                        <p id="modal-owned-status"></p>
                        <p id="modal-quantity"></p>
                        <p id="modal-foil"></p>
                        <p id="modal-notes"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <img src="https://images.ctfassets.net/s5n2t79q9icq/3dB5uyWzUH95O1ZPBNNUX5/6cff7c65a809285755ea24b164b6ac65/magic-logo.png"
                 alt="MTG Logo"
                 class="footer-logo">
            <p>MTG x Avatar: The Last Airbender Collection Tracker</p>
            <p class="footer-disclaimer">Fan-made tracker. Not affiliated with Wizards of the Coast or Nickelodeon.</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
